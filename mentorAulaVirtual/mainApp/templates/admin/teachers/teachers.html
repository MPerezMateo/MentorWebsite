{% extends 'baseAdmin.html' %}
{% load static %}

{% block content %}

<div class = "container py-5 vh-100">
  <div class = "row d-flex justify-content-left">
    <div class = "col-1 col-sm-auto">
      <img src = "{% static 'images/teacherIcon.png' %}" height = 50px>
    </div>
    <div class = "col-10 col-sm-auto d-flex align-items-center">
      <h3>Profesores</h3>
    </div>
  </div>

  <!-- Filtros -->
  <form method="GET">
    <div class = "row d-flex pt-4 justify-content-center">
      <input class="col-6" name = "teacherSearch" id = "teacherSearch" class = "form-control form-control-lg" placeholder = "Nombre Profesor"/>
      <input class="col-6" name = "subjSearch" id = "subjSearch" class = "form-control form-control-lg" placeholder = "Asignatura"/>
    </div>
    <div class = "row d-flex justify-content-center">
      <input class="col-6" name = "studSearch" id = "studSearch" class = "form-control form-control-lg" placeholder = "Nombre Alumno"/>
      <input class="col-6" name = "timeSearch" id = "timeSearch" class = "form-control form-control-lg" placeholder = "Horario"/>
    </div> 

    <input type="submit" value="Buscar" class="btn btn-primary"/>
  </form>

  <div class = "row d-flex py-4 justify-content-center">
    <table class="table table-bordered">
      <thead >
        <tr>
          <th scope="col">Nº</th>
          <th scope="col">Nombre</th>
          <th scope="col">Apellidos</th>
          <th scope="col">Correo</th>
          <th scope="col">Teléfono</th>
          <th scope="col">Asignaturas</th>
          <th scope="col">Modificar</th>
        </tr>
      </thead>
      <tbody >
          {% if teachers %}
          {% for teacher in teachers%}
          <tr>
            <td>{{teacher.id}}</td>
            <td>{{teacher.first_name}}</td>
            <td>{{teacher.last_name}}</td>
            <td>{{teacher.email}}</td>
            <td>{{teacher.phone}}</td>
            <td>
              {% if teacher.subjects %}
              {% for subject in teacher.subjects.all %}
              {{subject}}
              {% endfor %}
              {% endif %}
            </td>
            <td>
              <a href="{% url 'editTeacher' teacher.id %}">
                <i class='fas fa-2xl fa-edit'></i>
              </a>
              </td>
          </tr>
          {% endfor %}
          {% endif %}
      </tbody>
    </table>

  </div>
  <div style ="position: fixed; bottom: 40px; right: 40px;">
    <a href="{% url 'createTeacher' %}" class="btn text-white" style="background-color: #55acee;" role="button">  
      Añadir Profesor
      <i class="fas fa-plus"></i>
    </a>
  </div>
</div>
{% endblock content %}